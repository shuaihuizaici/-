import{b as he,a as Pe,u as Oe,c as pe,d as Ve,E as fe,e as ze,f as De,_ as ge,g as Re,w as Ge,h as Xe,i as ee}from"./request-Bl3HPWDP.js";import{x as Fe,k as I,y as L,d as e,z as Q,A as Ke,n as _e,B as Ue,C as je,D as We,E as qe,G as ye,H as te,o as E,c as H,m as re,w as j,I as Z,b as P,J as V,K as Y,e as K,L as x,T as ve,g as U,M as Ie,N as Ce,F as we,r as be,t as Je,O as Qe,P as Ye,Q as Ze,_ as xe}from"./index-B9zWtJm9.js";import{u as et}from"./index-Ccnra07l.js";import{f as tt}from"./vnode-unm24z5M.js";import{t as de}from"./throttle-DXnv788V.js";const at=he({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:{type:Boolean,default:!1}}),st={change:(a,$)=>[a,$].every(Pe)},Se=Symbol("carouselContextKey"),me=300,ot=(a,$,l)=>{const{children:s,addChild:S,removeChild:p}=et(ye(),"ElCarouselItem"),B=Fe(),o=I(-1),C=I(null),N=I(!1),w=I(),M=I(0),k=I(!0),g=I(!0),d=I(!1),G=L(()=>a.arrow!=="never"&&!e(b)),z=L(()=>s.value.some(t=>t.props.label.toString().length>0)),T=L(()=>a.type==="card"),b=L(()=>a.direction==="vertical"),X=L(()=>a.height!=="auto"?{height:a.height}:{height:`${M.value}px`,overflow:"hidden"}),n=de(t=>{m(t)},me,{trailing:!0}),i=de(t=>{D(t)},me),_=t=>k.value?o.value<=1?t<=1:t>1:!0;function f(){C.value&&(clearInterval(C.value),C.value=null)}function y(){a.interval<=0||!a.autoplay||C.value||(C.value=setInterval(()=>O(),a.interval))}const O=()=>{g.value||(d.value=!0),g.value=!1,o.value<s.value.length-1?o.value=o.value+1:a.loop&&(o.value=0)};function m(t){if(g.value||(d.value=!0),g.value=!1,We(t)){const F=s.value.filter(R=>R.props.name===t);F.length>0&&(t=s.value.indexOf(F[0]))}if(t=Number(t),Number.isNaN(t)||t!==Math.floor(t))return;const u=s.value.length,A=o.value;t<0?o.value=a.loop?u-1:0:t>=u?o.value=a.loop?0:u-1:o.value=t,A===o.value&&r(A),ie()}function r(t){s.value.forEach((u,A)=>{u.translateItem(A,o.value,t)})}function W(t,u){var A,F,R,q;const J=e(s),ue=J.length;if(ue===0||!t.states.inStage)return!1;const Me=u+1,$e=u-1,ce=ue-1,Ae=J[ce].states.active,Be=J[0].states.active,He=(F=(A=J[Me])==null?void 0:A.states)==null?void 0:F.active,Le=(q=(R=J[$e])==null?void 0:R.states)==null?void 0:q.active;return u===ce&&Be||He?"left":u===0&&Ae||Le?"right":!1}function ae(){N.value=!0,a.pauseOnHover&&f()}function se(){N.value=!1,y()}function oe(){d.value=!1}function v(t){e(b)||s.value.forEach((u,A)=>{t===W(u,A)&&(u.states.hover=!0)})}function c(){e(b)||s.value.forEach(t=>{t.states.hover=!1})}function h(t){t!==o.value&&(g.value||(d.value=!0)),o.value=t}function D(t){a.trigger==="hover"&&t!==o.value&&(o.value=t,g.value||(d.value=!0))}function ne(){m(o.value-1)}function Te(){m(o.value+1)}function ie(){f(),a.pauseOnHover||y()}function Ee(t){a.height==="auto"&&(M.value=t)}function Ne(){var t;const u=(t=B.default)==null?void 0:t.call(B);if(!u)return null;const A=tt(u),F="ElCarouselItem",R=A.filter(q=>qe(q)&&q.type.name===F);return(R==null?void 0:R.length)===2&&a.loop&&!T.value?(k.value=!0,R):(k.value=!1,null)}Q(()=>o.value,(t,u)=>{r(u),k.value&&(t=t%2,u=u%2),u>-1&&$("change",t,u)}),Q(()=>a.autoplay,t=>{t?y():f()}),Q(()=>a.loop,()=>{m(o.value)}),Q(()=>a.interval,()=>{ie()});const le=Ke();return _e(()=>{Q(()=>s.value,()=>{s.value.length>0&&m(a.initialIndex)},{immediate:!0}),le.value=Oe(w.value,()=>{r()}),y()}),Ue(()=>{f(),w.value&&le.value&&le.value.stop()}),je(Se,{root:w,isCardType:T,isVertical:b,items:s,loop:a.loop,addItem:S,removeItem:p,setActiveItem:m,setContainerHeight:Ee}),{root:w,activeIndex:o,arrowDisplay:G,hasLabel:z,hover:N,isCardType:T,isTransitioning:d,items:s,isVertical:b,containerStyle:X,isItemsTwoLength:k,handleButtonEnter:v,handleTransitionEnd:oe,handleButtonLeave:c,handleIndicatorClick:h,handleMouseEnter:ae,handleMouseLeave:se,setActiveItem:m,prev:ne,next:Te,PlaceholderItem:Ne,isTwoLengthShow:_,throttledArrowClick:n,throttledIndicatorHover:i}},nt=["aria-label"],lt=["aria-label"],rt=["onMouseenter","onClick"],it=["aria-label"],ut={key:0},ct={key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},ft=P("defs",null,[P("filter",{id:"elCarouselHorizontal"},[P("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),P("filter",{id:"elCarouselVertical"},[P("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])],-1),vt=[ft],dt="ElCarousel",mt=te({name:dt}),ht=te({...mt,props:at,emits:st,setup(a,{expose:$,emit:l}){const s=a,{root:S,activeIndex:p,arrowDisplay:B,hasLabel:o,hover:C,isCardType:N,items:w,isVertical:M,containerStyle:k,handleButtonEnter:g,handleButtonLeave:d,isTransitioning:G,handleIndicatorClick:z,handleMouseEnter:T,handleMouseLeave:b,handleTransitionEnd:X,setActiveItem:n,prev:i,next:_,PlaceholderItem:f,isTwoLengthShow:y,throttledArrowClick:O,throttledIndicatorHover:m}=ot(s,l),r=pe("carousel"),{t:W}=Ve(),ae=L(()=>{const v=[r.b(),r.m(s.direction)];return e(N)&&v.push(r.m("card")),v}),se=L(()=>{const v=[r.e("container")];return s.motionBlur&&e(G)&&v.push(e(M)?`${r.namespace.value}-transitioning-vertical`:`${r.namespace.value}-transitioning`),v}),oe=L(()=>{const v=[r.e("indicators"),r.em("indicators",s.direction)];return e(o)&&v.push(r.em("indicators","labels")),s.indicatorPosition==="outside"&&v.push(r.em("indicators","outside")),e(M)&&v.push(r.em("indicators","right")),v});return $({setActiveItem:n,prev:i,next:_}),(v,c)=>(E(),H("div",{ref_key:"root",ref:S,class:V(e(ae)),onMouseenter:c[7]||(c[7]=Y((...h)=>e(T)&&e(T)(...h),["stop"])),onMouseleave:c[8]||(c[8]=Y((...h)=>e(b)&&e(b)(...h),["stop"]))},[e(B)?(E(),re(ve,{key:0,name:"carousel-arrow-left",persisted:""},{default:j(()=>[Z(P("button",{type:"button",class:V([e(r).e("arrow"),e(r).em("arrow","left")]),"aria-label":e(W)("el.carousel.leftArrow"),onMouseenter:c[0]||(c[0]=h=>e(g)("left")),onMouseleave:c[1]||(c[1]=(...h)=>e(d)&&e(d)(...h)),onClick:c[2]||(c[2]=Y(h=>e(O)(e(p)-1),["stop"]))},[K(e(fe),null,{default:j(()=>[K(e(ze))]),_:1})],42,nt),[[x,(v.arrow==="always"||e(C))&&(s.loop||e(p)>0)]])]),_:1})):U("v-if",!0),e(B)?(E(),re(ve,{key:1,name:"carousel-arrow-right",persisted:""},{default:j(()=>[Z(P("button",{type:"button",class:V([e(r).e("arrow"),e(r).em("arrow","right")]),"aria-label":e(W)("el.carousel.rightArrow"),onMouseenter:c[3]||(c[3]=h=>e(g)("right")),onMouseleave:c[4]||(c[4]=(...h)=>e(d)&&e(d)(...h)),onClick:c[5]||(c[5]=Y(h=>e(O)(e(p)+1),["stop"]))},[K(e(fe),null,{default:j(()=>[K(e(De))]),_:1})],42,lt),[[x,(v.arrow==="always"||e(C))&&(s.loop||e(p)<e(w).length-1)]])]),_:1})):U("v-if",!0),P("div",{class:V(e(se)),style:Ce(e(k)),onTransitionend:c[6]||(c[6]=(...h)=>e(X)&&e(X)(...h))},[K(e(f)),Ie(v.$slots,"default")],38),v.indicatorPosition!=="none"?(E(),H("ul",{key:2,class:V(e(oe))},[(E(!0),H(we,null,be(e(w),(h,D)=>Z((E(),H("li",{key:D,class:V([e(r).e("indicator"),e(r).em("indicator",v.direction),e(r).is("active",D===e(p))]),onMouseenter:ne=>e(m)(D),onClick:Y(ne=>e(z)(D),["stop"])},[P("button",{class:V(e(r).e("button")),"aria-label":e(W)("el.carousel.indicator",{index:D+1})},[e(o)?(E(),H("span",ut,Je(h.props.label),1)):U("v-if",!0)],10,it)],42,rt)),[[x,e(y)(D)]])),128))],2)):U("v-if",!0),s.motionBlur?(E(),H("svg",ct,vt)):U("v-if",!0)],34))}});var pt=ge(ht,[["__file","carousel.vue"]]);const gt=he({name:{type:String,default:""},label:{type:[String,Number],default:""}}),_t=(a,$)=>{const l=Qe(Se),s=ye(),S=.83,p=I(),B=I(!1),o=I(0),C=I(1),N=I(!1),w=I(!1),M=I(!1),k=I(!1),{isCardType:g,isVertical:d}=l;function G(n,i,_){const f=_-1,y=i-1,O=i+1,m=_/2;return i===0&&n===f?-1:i===f&&n===0?_:n<y&&i-n>=m?_+1:n>O&&n-i>=m?-2:n}function z(n,i){var _,f;const y=e(d)?((_=l.root.value)==null?void 0:_.offsetHeight)||0:((f=l.root.value)==null?void 0:f.offsetWidth)||0;return M.value?y*((2-S)*(n-i)+1)/4:n<i?-(1+S)*y/4:(3+S)*y/4}function T(n,i,_){const f=l.root.value;return f?((_?f.offsetHeight:f.offsetWidth)||0)*(n-i):0}const b=(n,i,_)=>{var f;const y=e(g),O=(f=l.items.value.length)!=null?f:Number.NaN,m=n===i;!y&&!Re(_)&&(k.value=m||n===_),!m&&O>2&&l.loop&&(n=G(n,i,O));const r=e(d);N.value=m,y?(M.value=Math.round(Math.abs(n-i))<=1,o.value=z(n,i),C.value=e(N)?1:S):o.value=T(n,i,r),w.value=!0,m&&p.value&&l.setContainerHeight(p.value.offsetHeight)};function X(){if(l&&e(g)){const n=l.items.value.findIndex(({uid:i})=>i===s.uid);l.setActiveItem(n)}}return _e(()=>{l.addItem({props:a,states:Ye({hover:B,translate:o,scale:C,active:N,ready:w,inStage:M,animating:k}),uid:s.uid,translateItem:b})}),Ze(()=>{l.removeItem(s.uid)}),{carouselItemRef:p,active:N,animating:k,hover:B,inStage:M,isVertical:d,translate:o,isCardType:g,scale:C,ready:w,handleItemClick:X}},yt=te({name:"ElCarouselItem"}),It=te({...yt,props:gt,setup(a){const $=a,l=pe("carousel"),{carouselItemRef:s,active:S,animating:p,hover:B,inStage:o,isVertical:C,translate:N,isCardType:w,scale:M,ready:k,handleItemClick:g}=_t($),d=L(()=>[l.e("item"),l.is("active",S.value),l.is("in-stage",o.value),l.is("hover",B.value),l.is("animating",p.value),{[l.em("item","card")]:w.value,[l.em("item","card-vertical")]:w.value&&C.value}]),G=L(()=>{const T=`${`translate${e(C)?"Y":"X"}`}(${e(N)}px)`,b=`scale(${e(M)})`;return{transform:[T,b].join(" ")}});return(z,T)=>Z((E(),H("div",{ref_key:"carouselItemRef",ref:s,class:V(e(d)),style:Ce(e(G)),onClick:T[0]||(T[0]=(...b)=>e(g)&&e(g)(...b))},[e(w)?Z((E(),H("div",{key:0,class:V(e(l).e("mask"))},null,2)),[[x,!e(S)]]):U("v-if",!0),Ie(z.$slots,"default")],6)),[[x,e(k)]])}});var ke=ge(It,[["__file","carousel-item.vue"]]);const Ct=Ge(pt,{CarouselItem:ke}),wt=Xe(ke),bt={class:"XtxSwiper"},St=["src"],kt={__name:"XtxSwiper",props:{list:{type:Object,required:!0}},setup(a){return($,l)=>{const s=wt,S=Ct;return E(),H("div",bt,[K(S,{height:"500px"},{default:j(()=>[(E(!0),H(we,null,be(a.list,p=>(E(),re(s,{key:p.id},{default:j(()=>[P("img",{src:p.imgUrl,alt:""},null,8,St)]),_:2},1024))),128))]),_:1})])}}},At=xe(kt,[["__scopeId","data-v-54f3908d"]]);function Bt(a={}){const{distributionSite:$="1"}=a;return ee({url:"/home/banner",params:{distributionSite:$}})}const Ht=()=>ee({url:"/home/new"}),Lt=()=>ee({url:"/home/hot"}),Pt=()=>ee({url:"/home/goods"});export{At as X,Lt as a,Pt as b,Ht as f,Bt as g};
